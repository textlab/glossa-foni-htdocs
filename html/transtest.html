<html>
  <head>
    <script type="text/javascript" src="http://www.google.com/jsapi">
    </script>
    <script type="text/javascript">

    google.load("language", "1");

    function initialize(text) {
      var text = document.getElementById("text").innerHTML;
      google.language.detect(text, function(result) {
        if (!result.error && result.language) {
          google.language.translate(text, result.language, "no",
                                    function(result) {
            var translated = document.getElementById("translation");
            if (result.translation) {
              translated.innerHTML = result.translation;
            }
          });
        }
      });
    }
    google.setOnLoadCallback(initialize);
    function translate(node, text) {
      google.language.detect(text, function(result) {
        if (!result.error && result.language) {
          google.language.translate(text, result.language, "no",
                                    function(result) {
            if (result.translation) {
              node.innerHTML = result.translation;
            }
            else{ node.innerHTML = 'Woodwork' }
          });
        }
      });
    }

    </script>
  </head>
  <body>
    <div id="text0">the drunken monk beat up the punk, while the monk that was drunk, why he beat up the punk.<br / >everybody loves a drunk and vigilant monk. do all drunk monks beat up on punks?<br />all punks are, from time to time, beaten up by drunk monks.</div>
    <input type="text" id="text" />
    <input type="button" onclick="alert(translate(document.getElementById('text').value));" value="press" />
    <div id="translation"></div>
    <div><span onclick="translate(this.parentNode, 'Yon fatty cat shat on yonder threadbare mat!')">her</span></div>
  </body>
</html>